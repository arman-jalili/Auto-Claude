# Step 8: i18n Translations

## Objective
Add CLI-related translations to all required i18n namespaces to ensure complete localization support.

## Files to Modify

### 1. Frontend: i18n Translation Files

**Files to Update:**
1. `apps/frontend/src/shared/i18n/locales/en/common.json` - Add CLI-related keys
2. `apps/frontend/src/shared/i18n/locales/fr/common.json` - Add French translations
3. `apps/frontend/src/shared/i18n/locales/en/navigation.json` - Add navigation CLI-related keys
4. `apps/frontend/src/shared/i18n/locales/fr/navigation.json` - French navigation translations
5. `apps/frontend/src/shared/i18n/locales/en/tasks.json` - Add task execution CLI messages
6. `apps/frontend/src/shared/i18n/locales/fr/tasks.json` - French task messages
7. `apps/frontend/src/shared/i18n/locales/en/dialogs.json` - Add CLI-related dialog messages
8. `apps/frontend/src/shared/i18n/locales/fr/dialogs.json` - French dialog translations

## Implementation

### Add to en/common.json

```json
{
  "...": "... existing keys ...",
  "cli": {
    "title": "AI CLI",
    "claude": "Claude Code",
    "opencode": "OpenCode",
    "type": "CLI Type",
    "provider": "Provider",
    "selectProvider": "Select Provider",
    "notAvailable": "Not Available",
    "working": "Working",
    "notWorking": "Not Working",
    "testConnection": "Test Connection",
    "testSuccess": "CLI connection test successful",
    "testFailed": "CLI connection test failed",
    "claude": "Claude",
    "openai": "OpenAI (GPT)",
    "google": "Google (Gemini)",
    "zen": "OpenCode Zen",
    "local": "Local Models",
    "authType": "Authentication Type",
    "oauth": "OAuth",
    "apiKey": "API Key",
    "multiProvider": "Multi-Provider",
    "switchingTo": "Switching to",
    "switchSuccess": "Successfully switched to",
    "validationPassed": "CLI validation passed",
    "validationFailed": "CLI validation failed"
  }
}
```

### Add to fr/common.json

```json
{
  "...": "... existing keys ...",
  "cli": {
    "title": "CLI IA",
    "claude": "Claude Code",
    "opencode": "OpenCode",
    "type": "Type de CLI",
    "provider": "Fournisseur",
    "selectProvider": "Sélectionner le fournisseur",
    "notAvailable": "Non disponible",
    "working": "Fonctionne",
    "notWorking": "Non fonctionne",
    "testConnection": "Tester la connexion",
    "testSuccess": "Test de connexion CLI réussi",
    "testFailed": "Échec du test de connexion CLI",
    "claude": "Claude",
    "openai": "OpenAI (GPT)",
    "google": "Google (Gemini)",
    "zen": "OpenCode Zen",
    "local": "Modèles locaux",
    "authType": "Type d'authentification",
    "oauth": "OAuth",
    "apiKey": "Clé d'API",
    "multiProvider": "Multi-fournisseur",
    "switchingTo": "Bascule vers",
    "switchSuccess": "Basculé avec succès vers",
    "validationPassed": "Validation CLI réussie",
    "validationFailed": "Échec de la validation CLI"
  }
}
```

### Add to en/navigation.json

```json
{
  "...": "... existing keys ...",
  "cliSettings": "CLI Settings",
  "switchCLI": "Switch CLI",
  "cliInfo": "CLI Information"
}
```

### Add to fr/navigation.json

```json
{
  "...": "... existing keys ...",
  "cliSettings": "Paramètres CLI",
  "switchCLI": "Changer de CLI",
  "cliInfo": "Informations CLI"
}
```

### Add to en/tasks.json

```json
{
  "...": "... existing keys ...",
  "cli": {
    "usingClaude": "Using Claude Code CLI",
    "usingOpenCode": "Using OpenCode CLI",
    "cliNotValid": "CLI validation failed: {error}",
    "retryWithClaude": "Retry with Claude Code CLI",
    "retryWithOpenCode": "Retry with OpenCode CLI",
    "providerChanged": "OpenCode provider changed to {provider}",
    "authRequired": "Authentication required for {cli}"
  }
}
```

### Add to fr/tasks.json

```json
{
  "...": "... existing keys ...",
  "cli": {
    "usingClaude": "Utilisation du CLI Claude Code",
    "usingOpenCode": "Utilisation du CLI OpenCode",
    "cliNotValid": "Échec de validation CLI: {error}",
    "retryWithClaude": "Réessayer avec le CLI Claude Code",
    "retryWithOpenCode": "Réessayer avec le CLI OpenCode",
    "providerChanged": "Fournisseur OpenCode changé en {provider}",
    "authRequired": "Authentification requise pour {cli}"
  }
}
```

### Add to en/dialogs.json

```json
{
  "...": "... existing keys ...",
  "cli": {
    "switchTitle": "Switch AI CLI",
    "switchMessage": "Are you sure you want to switch from {currentCLI} to {newCLI}?",
    "switchMessageOpenCodeProvider": "Are you sure you want to switch to {provider}?",
    "switchConfirm": "Switch",
    "switchCancel": "Cancel",
    "switchSuccess": "Successfully switched to {cli}",
    "switchError": "Failed to switch CLI: {error}",
    "authRequiredTitle": "Authentication Required",
    "authRequiredMessage": "Please authenticate with {cli} to continue.",
    "authOpenCodeMessage": "Please run 'opencode login' to authenticate with OpenCode.",
    "installClaude": "Install Claude Code CLI",
    "installClaudeMessage": "Claude Code CLI is required. Install it with: npm install -g @anthropic-ai/claude-code",
    "installOpenCode": "Install OpenCode CLI",
    "installOpenCodeMessage": "OpenCode CLI is required. Install it with: npm install -g opencode-ai or visit https://opencode.ai",
    "validationError": "CLI Validation Error",
    "validationErrorMessage": "Could not validate CLI availability. Please ensure the CLI is installed and in your PATH."
  }
}
```

### Add to fr/dialogs.json

```json
{
  "...": "... existing keys ...",
  "cli": {
    "switchTitle": "Changer de CLI IA",
    "switchMessage": "Voulez-vous vraiment basculer de {currentCLI} vers {newCLI} ?",
    "switchMessageOpenCodeProvider": "Voulez-vous vraiment changer pour {provider} ?",
    "switchConfirm": "Basculer",
    "switchCancel": "Annuler",
    "switchSuccess": "Basculé avec succès vers {cli}",
    "switchError": "Échec du basculement CLI: {error}",
    "authRequiredTitle": "Authentification Requise",
    "authRequiredMessage": "Veuillez vous authentifier avec {cli} pour continuer.",
    "authOpenCodeMessage": "Veuillez exécuter 'opencode login' pour vous authentifier avec OpenCode.",
    "installClaude": "Installer le CLI Claude Code",
    "installClaudeMessage": "Le CLI Claude Code est requis. Installez-le avec: npm install -g @anthropic-ai/claude-code",
    "installOpenCode": "Installer le CLI OpenCode",
    "installOpenCodeMessage": "Le CLI OpenCode est requis. Installez-le avec: npm install -g opencode-ai ou visitez https://opencode.ai",
    "validationError": "Erreur de validation CLI",
    "validationErrorMessage": "Impossible de valider la disponibilité du CLI. Assurez-vous que le CLI est installé et dans votre PATH."
  }
}
```

## Testing

### Verify All Keys Are Present

```bash
# Check English translations
cd apps/frontend
npm run lint:fix

# Check for missing keys
npm run typecheck
```

### Translation Consistency Checklist

- [x] Common namespace has CLI keys
- [x] Settings namespace has CLI keys (already done in Step 7)
- [x] Navigation namespace has CLI-related navigation keys
- [x] Tasks namespace has CLI execution messages
- [x] Dialogs namespace has CLI dialog messages
- [ ] All keys have French translations
- [ ] All English keys present
- [ ] All French keys present

## Important Notes

1. **Key Structure**: All CLI keys are under the `cli` prefix
2. **Interpolation**: Use `{variable}` pattern for dynamic values
3. **Consistency**: Use same terminology as used in English
4. **Context**: Provide context in key names (e.g., `switchMessage` vs `authRequiredMessage`)
5. **Pluralization**: Consider plural forms where applicable

## File Summary

**8 files updated:**

| File | Lines Added | Purpose |
|------|---------------|---------|
| en/common.json | ~30 | Common CLI terms |
| fr/common.json | ~30 | French common CLI terms |
| en/navigation.json | ~4 | Navigation CLI items |
| fr/navigation.json | ~4 | French navigation CLI items |
| en/tasks.json | ~8 | Task execution CLI messages |
| fr/tasks.json | ~8 | French task messages |
| en/dialogs.json | ~12 | CLI dialog messages |
| fr/dialogs.json | ~12 | French CLI dialog messages |

**Total**: ~108 new translation keys

## Usage Examples

In components, use translations like:

```typescript
import { useTranslation } from 'react-i18next';

const { t } = useTranslation(['common', 'tasks', 'dialogs']);

// Common CLI terms
<span>{t('common:cli.title')}</span>  // "AI CLI"
<span>{t('common:cli.opencode')}</span>  // "OpenCode"

// Task execution
<p>{t('tasks:cli.usingOpenCode')}</p>  // "Using OpenCode CLI"

// Dialogs
<Dialog>
  <h2>{t('dialogs:cli.switchTitle')}</h2>
  <p>{t('dialogs:cli.switchMessage', { 
    currentCLI: t('common:cli.claude'), 
    newCLI: t('common:cli.opencode')
  })}</p>
</Dialog>
```

## Next Steps

Proceed to **Step 9** to update documentation.

## Verification Checklist

- [x] CLI translations added to common.json (English & French)
- [x] CLI translations added to navigation.json (English & French)
- [x] CLI translations added to tasks.json (English & French)
- [x] CLI translations added to dialogs.json (English & French)
- [x] All keys follow namespace pattern (namespace:section.key)
- [x] All keys use interpolation for dynamic values
- [x] French translations are contextually appropriate
- [ ] All files verified for syntax errors
- [ ] Type checking passes for all updated files
